---
title: ‰ªé0Âà∞1Êê≠Âª∫React+TSÈ°πÁõÆ1Ôºà‰∏äÔºâ
published: 2025-07-10
description: "ÊàëÁöÑÈ°πÁõÆËß£Èáä"
image: "./cover.png"
tags: ["React ","TS","Webpack","craco"]
category: React+TSÈ°πÁõÆ1
draft: false
---

## ‰∏Ä„ÄÅÈ°πÁõÆÂàùÂßãÂåñÔºö‰ªéÂü∫Á°ÄÊ°ÜÊû∂Âà∞ÁéØÂ¢ÉÈÖçÁΩÆ

### Ôºà‰∏ÄÔºâÂàõÂª∫ReactÂü∫Á°ÄÈ°πÁõÆ

ÊúÄÂàùÊé•Ëß¶ReactÈ°πÁõÆÊó∂Ôºå`create-react-app`ÊòØÊúÄ‰æøÊç∑ÁöÑÂêØÂä®Â∑•ÂÖ∑„ÄÇÂè™ÈúÄ‰∏ÄË°åÂëΩ‰ª§Âç≥ÂèØÁîüÊàêÂÆåÊï¥ÁöÑÈ°πÁõÆÈ™®Êû∂Ôºö

```bash
npx create-react-app react-app
```

ËøõÂÖ•È°πÁõÆÁõÆÂΩïÂπ∂ÂêØÂä®ÂºÄÂèëÊúçÂä°Âô®ÂêéÔºåÈªòËÆ§È°µÈù¢‰ºöÂú®`localhost:3000`Âä†ËΩΩÔºåÊ≠§Êó∂È°πÁõÆÂåÖÂê´‰∫ÜReactÂºÄÂèëÊâÄÈúÄÁöÑÂü∫Á°Ä‰æùËµñÂíåÈÖçÁΩÆÊñá‰ª∂„ÄÇ‰ΩÜÈªòËÆ§ÁªìÊûÑÂåÖÂê´Â§ßÈáèÁ§∫‰æã‰ª£Á†ÅÂíåÂÜó‰ΩôÊñá‰ª∂Ôºå‰∏∫‰∫Ü‰øùÊåÅÈ°πÁõÆÁÆÄÊ¥ÅÔºåÈúÄË¶ÅËøõË°åÁ≤æÁÆÄ‰ºòÂåñ„ÄÇ

### Ôºà‰∫åÔºâÁ≤æÁÆÄÈ°πÁõÆÁªìÊûÑ

Á≤æÁÆÄÂêéÁöÑÈ°πÁõÆ‰ªÖ‰øùÁïôÊ†∏ÂøÉÊñá‰ª∂ÔºåÂà†Èô§Êó†Áî®ÁöÑÁ§∫‰æãÁªÑ‰ª∂„ÄÅÊ†∑ÂºèÂíåÈÖçÁΩÆÔºö

- **publicÁõÆÂΩï**Ôºö‰øùÁïô`favicon.ico`ÔºàÁΩëÈ°µÂõæÊ†áÔºâÂíå`index.html`ÔºàHTMLÊ®°ÊùøÔºâ
- **srcÁõÆÂΩï**Ôºö‰øùÁïô`App.js`ÔºàÊ†πÁªÑ‰ª∂Ôºâ„ÄÅ`index.js`ÔºàÂÖ•Âè£Êñá‰ª∂Ôºâ

ÂêåÊó∂ÁÆÄÂåñÊ†∏ÂøÉÊñá‰ª∂‰ª£Á†ÅÔºö

- `index.html`‰ªÖ‰øùÁïôÂü∫Á°ÄHTMLÁªìÊûÑÂíå`#root`ÊåÇËΩΩÁÇπÔºåÁ°Æ‰øùJavaScriptÁ¶ÅÁî®Êó∂ÁöÑÊèêÁ§∫ÊñáÊú¨
- `App.js`ÁÆÄÂåñ‰∏∫ÊúÄÂü∫Á°ÄÁöÑÂáΩÊï∞ÁªÑ‰ª∂ÔºåËøîÂõûÊ†∏ÂøÉDOMÁªìÊûÑ
- ÂºïÂÖ•`Fragment`Ëß£ÂÜ≥Â§öÊ†πÂÖÉÁ¥†Ê∏≤ÊüìÈóÆÈ¢òÔºåÈÅøÂÖçÈ¢ùÂ§ñDOMËäÇÁÇπÂÜó‰Ωô

### Ôºà‰∏âÔºâÊê≠Âª∫ËßÑËåÉÁõÆÂΩïÁªìÊûÑ

‰∏∫‰∫ÜÊèêÂçáÈ°πÁõÆÂèØÁª¥Êä§ÊÄßÔºåËÆæËÆ°ÂêàÁêÜÁöÑÁõÆÂΩïÁªìÊûÑËá≥ÂÖ≥ÈáçË¶Å„ÄÇÊúÄÁªàÁ°ÆÂÆöÁöÑÁªìÊûÑÂ¶Ç‰∏ãÔºö

```
/src
  /common          # ÂÖ®Â±ÄÂÖ¨Áî®ÁõÆÂΩï
    /fonts         # Â≠ó‰ΩìÊñá‰ª∂ÁõÆÂΩï
    /images        # ÂõæÁâáËµÑÊ∫êÁõÆÂΩï
    /js            # ÂÖ¨Áî®JSÂ∑•ÂÖ∑ÁõÆÂΩï
    /style         # ÂÖ¨Áî®Ê†∑ÂºèÁõÆÂΩï
      frame.css    # Ê†∑ÂºèÂÖ•Âè£ÔºàÁªü‰∏ÄÂºïÂÖ•ÂÖ∂‰ªñÂÖ¨Áî®Ê†∑ÂºèÔºâ
      reset.css    # Ê∏ÖÈõ∂Ê†∑Âºè
      global.css   # ÂÖ®Â±ÄÊ†∑Âºè
  /components      # ÂÖ¨ÂÖ±ÁªÑ‰ª∂ÁõÆÂΩïÔºàÂ¶ÇHeaderÁ≠âÂèØÂ§çÁî®Ê®°ÂùóÔºâ
  /pages           # È°µÈù¢ÁªÑ‰ª∂ÁõÆÂΩïÔºàÂ¶ÇHome„ÄÅLoginÁ≠âÈ°µÈù¢Ôºâ
  App.js           # Ê†πÁªÑ‰ª∂
  index.js         # È°πÁõÆÂÖ•Âè£Êñá‰ª∂
```

ÂÖ®Â±ÄÊ†∑ÂºèÈÄöËøá`frame.css`Áªü‰∏ÄÁÆ°ÁêÜÔºåÂÜçÂú®ÂÖ•Âè£Êñá‰ª∂`index.js`‰∏≠ÂºïÂÖ•ÔºåÁ°Æ‰øùÊ†∑ÂºèÂÖ®Â±ÄÁîüÊïà„ÄÇ

## ‰∫å„ÄÅÊäÄÊúØÊ†àÂçáÁ∫ßÔºöÂºïÂÖ•TypeScript‰∏éWebpackÈÖçÁΩÆ

### Ôºà‰∏ÄÔºâTypeScriptÁéØÂ¢ÉÊê≠Âª∫

‰∏∫ÊèêÂçá‰ª£Á†ÅÂÅ•Â£ÆÊÄßÂíåÂºÄÂèë‰ΩìÈ™åÔºåÂºïÂÖ•TypeScriptËøõË°åÁ±ªÂûãÁÆ°ÁêÜÔºö

1. ÂÆâË£ÖÊ†∏ÂøÉ‰æùËµñÔºö

```bash
pnpm add react react-dom
pnpm add -D @types/react @types/react-dom typescript @types/node
```

2. ÁîüÊàêTypeScriptÈÖçÁΩÆÊñá‰ª∂Ôºö

```bash
npx tsc --init
```

3. ÊîπÈÄ†Ê†∏ÂøÉÊñá‰ª∂‰∏∫TypeScriptÊ†ºÂºèÔºö
   - Â∞Ü`App.js`Êîπ‰∏∫`App.tsx`ÔºåÂÆö‰πâ`React.FC`Á±ªÂûãÁöÑÂáΩÊï∞ÁªÑ‰ª∂
   - Â∞Ü`index.js`Êîπ‰∏∫`index.tsx`Ôºå‰ΩøÁî®`ReactDOM.createRoot`ÂàõÂª∫Ê†πËäÇÁÇπÂπ∂ÊåÇËΩΩÁªÑ‰ª∂

### Ôºà‰∫åÔºâWebpackÂÆåÊï¥ÈÖçÁΩÆ

#### 1. ÂÆâË£ÖWebpackÊ†∏ÂøÉ‰æùËµñ

WebpackÁõ∏ÂÖ≥‰æùËµñÂåÖÊã¨ÊâìÂåÖÊ†∏ÂøÉ„ÄÅÂºÄÂèëÊúçÂä°Âô®„ÄÅÈÖçÁΩÆÂêàÂπ∂Â∑•ÂÖ∑Á≠âÔºö

```bash
pnpm add webpack webpack-cli webpack-dev-server webpack-merge -D
pnpm add cross-env -D  # Ëß£ÂÜ≥Ë∑®ÁéØÂ¢ÉÂèòÈáèÂÖºÂÆπÈóÆÈ¢ò
```

#### 2. ÈÖçÁΩÆÂ§öÁéØÂ¢ÉWebpackÊñá‰ª∂

ÂàõÂª∫`scripts`ÁõÆÂΩïÂ≠òÊîæ‰∏çÂêåÁéØÂ¢ÉÁöÑÈÖçÁΩÆÊñá‰ª∂ÔºåÈááÁî®"Âü∫Á°ÄÈÖçÁΩÆ+ÁéØÂ¢ÉÈÖçÁΩÆ"ÁöÑÊãÜÂàÜÊ®°ÂºèÔºö

- `webpack.base.js`ÔºöÂÖ¨Áî®ÈÖçÁΩÆÔºàÂÖ•Âè£„ÄÅËæìÂá∫„ÄÅÊèí‰ª∂Á≠âÂü∫Á°ÄËÆæÁΩÆÔºâ
- `webpack.dev.js`ÔºöÂºÄÂèëÁéØÂ¢ÉÈÖçÁΩÆÔºàÁÉ≠Êõ¥Êñ∞„ÄÅÂºÄÂèëÊúçÂä°Âô®Á≠âÔºâ
- `webpack.prod.js`ÔºöÁîü‰∫ßÁéØÂ¢ÉÈÖçÁΩÆÔºàÂéãÁº©„ÄÅ‰ºòÂåñÁ≠âÔºâ

Âü∫Êú¨ÈÖçÁΩÆÂ¶Ç‰∏ãÔºö
```
const path = require('path');
module.exports = {
 entry: './src/index.js',
 output: {
   filename: 'bundle.js',
   path: path.resolve(__dirname, 'dist')//ÊâìÂåÖÂêéÁöÑ‰ª£Á†ÅÊîæÂú®distÁõÆÂΩï‰∏ã
 },
 mode: 'development'// ÂºÄÂèëÊ®°Âºè
};
```

#### 3. Â§ÑÁêÜJSX/TSX‰∏éHTMLÊñá‰ª∂

- **BabelÈÖçÁΩÆ**ÔºöÂÆâË£Ö`babel-loader`ÂèäÁõ∏ÂÖ≥È¢ÑËÆæÔºåÂÆûÁé∞JSX/TSXËØ≠Ê≥ïËΩ¨Êç¢Ôºö

```bash
pnpm add -D babel-loader @babel/core @babel/preset-env @babel/preset-react @babel/preset-typescript
```

- **HTMLÊèí‰ª∂**Ôºö‰ΩøÁî®`html-webpack-plugin`Ëá™Âä®ÁîüÊàêHTMLÊñá‰ª∂Âπ∂ÂºïÂÖ•ÊâìÂåÖÂêéÁöÑJSÔºö
  - ÈÖçÁΩÆËá™ÂÆö‰πâHTMLÊ®°Êùø
  - ËÆæÁΩÆÈ°µÈù¢Ê†áÈ¢ò„ÄÅÊ≥®ÂÖ•ËÑöÊú¨‰ΩçÁΩÆÁ≠âÂèÇÊï∞
  - Áîü‰∫ßÁéØÂ¢ÉÂºÄÂêØHTMLÂéãÁº©‰ºòÂåñ

ÈúÄË¶ÅÂú®webpack.base.js‰∏≠Ê∑ªÂä†HTMLÊèí‰ª∂:
```
const HtmlWebpackPlugin = require('html-webpack-plugin');

plugins:[
      new HtmlWebpackPlugin({
        template: path.resolve(__dirname,'../public/index.html'),//Ëá™ÂÆö‰πâHTMLÊ®°Êùø
        title: ''//È°µÈù¢Ê†áÈ¢ò
      }),
    ],
```
:::tip
ÂÖ∂‰ªñÂ∏∏Áî®webpackÊèí‰ª∂Ôºö**https://blog.csdn.net/weixin_43720095/article/details/107720200**
:::
#### 4. CSS‰∏éËµÑÊ∫êÂ§ÑÁêÜ

- **ÂºÄÂèëÁéØÂ¢É**Ôºö‰ΩøÁî®`style-loader`„ÄÅ`css-loader`Âíå`postcss-loader`Â§ÑÁêÜCSSÔºåÂÆûÁé∞Ê†∑ÂºèÂä†ËΩΩÂíåËá™Âä®ÂâçÁºÄÊ∑ªÂä†
- **Áîü‰∫ßÁéØÂ¢É**ÔºöÈÄöËøá`MiniCssExtractPlugin`ÊèêÂèñCSS‰∏∫ÂçïÁã¨Êñá‰ª∂Ôºå`CssMinimizerPlugin`ÂéãÁº©CSS‰ΩìÁßØ
- **ËµÑÊ∫êÂ§ÑÁêÜ**ÔºöÂà©Áî®Webpack5ÁöÑAssetsÊ®°ÂùóÂ§ÑÁêÜÂõæÁâáÂíåÂ≠ó‰ΩìÔºö
  - Â∞è‰∫é25kbÁöÑËµÑÊ∫êËΩ¨‰∏∫Data URL
  - Â§ß‰∫é25kbÁöÑËµÑÊ∫êËæìÂá∫Âà∞ÊåáÂÆöÁõÆÂΩïÂπ∂Ê∑ªÂä†ÂìàÂ∏åÂÄº
  - TypeScriptÁéØÂ¢É‰∏ãÈÄöËøá`global.d.ts`Â£∞ÊòéËµÑÊ∫êÊ®°ÂùóÁ±ªÂûã

ÈúÄË¶ÅÂú®webpack.base.js‰∏≠Ê∑ªÂä†ËßÑÂàôÔºö
```
// webpack.base.js
const path = require('path')
const HtmlWebpackPlugin = require('html-webpack-plugin')
module.exports = {
    entry: path.resolve(__dirname,'../src/index.tsx'),
    output:{
        path: path.resolve(__dirname,'../dist'),//ÊâìÂåÖÂêéÁöÑ‰ª£Á†ÅÊîæÂú®distÁõÆÂΩï‰∏ã
        filename: 'bundle.js',//ÊâìÂåÖÊñá‰ª∂ÁöÑÂêçÂ≠ó
    },
    plugins:[
      new HtmlWebpackPlugin({
        template: path.resolve(__dirname,'../public/index.html'),//Ëá™ÂÆö‰πâHTMLÊ®°Êùø
        title: ''//È°µÈù¢Ê†áÈ¢ò
      }),
    ],
    resolve: {
      modules: ["node_modules"],
	    // ÈÖçÁΩÆ extensions Êù•ÂëäËØâ webpack Âú®Ê≤°Êúâ‰π¶ÂÜôÂêéÁºÄÊó∂Ôºå‰ª•‰ªÄ‰πàÊ†∑ÁöÑÈ°∫Â∫èÂéªÂØªÊâæÊñá‰ª∂
      extensions: ['.mjs','.js', '.json', '.jsx', '.ts', '.tsx','.html'],
      //ÁªôÊ†πË∑ØÂæÑËÆæÁΩÆ‰∏Ä‰∏™Âà´ÂêçÔºö@
      alias:{
        '@':path.resolve(__dirname,'../src')
      },
    },
    //Ê∑ªÂä†ËßÑÂàô
    module: {
    rules: [
      { test: /.(jsx?)|(tsx?)$/,//ÂåπÈÖçÊâÄÊúâ.jsÊñá‰ª∂
        exclude: /node_modules/,//ÊéíÈô§ node_modulesÁõÆÂΩï
        use: {
          loader: 'babel-loader',
          options: {
            presets: [
              [
                '@babel/preset-env',
                {
                  targets: 'iOS 9, Android 4.4, last 2 versions, > 0.2%, not dead', // Ê†πÊçÆÈ°πÁõÆÈÖçÁΩÆ
                  useBuiltIns: 'usage', // ‰ºöÊ†πÊçÆÈÖçÁΩÆÁöÑÁõÆÊ†áÁéØÂ¢ÉÊâæÂá∫ÈúÄË¶ÅÁöÑpolyfillËøõË°åÈÉ®ÂàÜÂºïÂÖ•
                  corejs: 3, // ‰ΩøÁî® core-js@3 ÁâàÊú¨
                },
              ],
              ['@babel/preset-typescript'],
              ['@babel/preset-react'],
            ],
          },
        },
      },
      { test: /\.(png|jpg|gif)$/i,//ÂõæÂÉèÊñá‰ª∂
        type: 'asset/resource',
        parser:{
          dataUrlCondition:{
            maxSize: 25*1024,//25kb
          },
        },
        generator:{
          filename:'assets/imgs/[name].[hash:8][ext]',
        },
      },
      { test: /\.(eot|ttf|woff|woff2)$/i,//Â≠ó‰ΩìÊñá‰ª∂
        type: 'asset/resource',
        parser:{
          dataUrlCondition:{
            maxSize: 25*1024,//25kb
          },
        },
        generator:{
          filename:'assets/fonts/[name].[hash:8][ext]',
        },
      }, 
      {test: /\.(mp4|avi)$/, // ÂåπÈÖçËßÜÈ¢ëÊñá‰ª∂
      type: 'asset/resource', // Â∞ÜÊñá‰ª∂ÂéüÂ∞Å‰∏çÂä®ËæìÂá∫
      generator: {
        filename: 'static/videos/[hash][ext][query]' // ËæìÂá∫Ë∑ØÂæÑÂíåÂëΩÂêçËßÑÂàô
      }
      },
    ],
  },
}
```

#### 5„ÄÅÈÖçÁΩÆcracoÊñá‰ª∂
Êú¨È°πÁõÆ‰ΩøÁî®"CRA"ÔºåÊÉ≥Ë¶ÅÂú®CRAÈÖçÁΩÆÁöÑÊ†∑Âºè‰πãÂ§ñÊ∑ªÂä†‰∏äÈù¢ÊèêÂà∞ÁöÑCSSËßÑÂàôÔºåÂèà‰∏çÊÉ≥Á†¥ÂùèCRAÂéüÊúâÂäüËÉΩÔºåÂ∞±Ë¶ÅÈááÂèñcracoÈÖçÁΩÆ„ÄÇ
- **cracoÈÖçÁΩÆ**ÔºöÂÆâË£ÖcracoÔºàÊàëÁöÑÈ°πÁõÆÊ≤°Êúâ‰ΩøÁî®Lass/SassÔºâ

```
# ÂÆâË£ÖCracoÊ†∏ÂøÉÂåÖ
pnpm add @craco/craco -D

# ÂèØÈÄâÔºöÊ†πÊçÆÈúÄÊ±ÇÂÆâË£ÖCracoÊèí‰ª∂ÔºàÂ¶ÇÂ§ÑÁêÜLess/SassÔºâ
pnpm add craco-less -D
```
cracoÊ∑ªÂä†ËßÑÂàôÔºö
```
// craco.config.js
const path = require('path');

module.exports = {
  webpack: {
    resolve:{
      alias : {
        'swiper/css': path.resolve(__dirname, 'node_modules/swiper/swiper.min.css'),
        'swiper/css/navigation': path.resolve(__dirname, 'node_modules/swiper/modules/navigation.min.css'),
        'swiper/css/pagination': path.resolve(__dirname, 'node_modules/swiper/modules/pagination.min.css')
      },
      extensions: ['.tsx', '.ts', '.jsx', '.js', '.json']
    },

    configure: {
      output: {
        publicPath: '/-Love-And-Deepspace/',
      },
    },

    configure: (webpackConfig) => {
      // ‰øÆÂ§ç CSS Âä†ËΩΩÂô®ÈÖçÁΩÆ
      webpackConfig.module.rules.forEach(rule => {
        if (rule.oneOf) {
          rule.oneOf = rule.oneOf.map(loader => {
            if (loader.test && loader.test.toString().includes('css')) {
              return {
                test: /\.css$/,
                use: [
                  'style-loader',
                  {
                    loader: 'css-loader',
                    options: {
                      importLoaders: 1,
                      modules: false
                    }
                  },
                  'postcss-loader'
                ],
                exclude: /node_modules/,
                sideEffects: true
              };
            }
            return loader;
          });
        }
        return rule;
      });
      return webpackConfig;
    },
    
  },
  devServer: {
    port: 3000,
    open: true
  }
}
```
:::tip
ËÆæÁΩÆcracoÈÖçÁΩÆ‰πãÂêéÔºåÊ≤øÁî®CRAÈªòËÆ§ÁöÑwebpackËßÑÂàôÔºåÊâÄ‰ª•ÁîüÊàêÁõÆÂΩïÂ≠òÊîæÂà∞ÈªòËÆ§ÁöÑbuildÁõÆÂΩï‰∏ã„ÄÇ
:::




---
title: Expressive Code Example
published: 2024-04-10
description: How code blocks look in Markdown using Expressive Code.
tags: [Markdown, Blogging, Demo]
category: Examples
draft: false
---

Here, we'll explore how code blocks look using [Expressive Code](https://expressive-code.com/). The provided examples are based on the official documentation, which you can refer to for further details.

## Expressive Code

### Syntax Highlighting

[Syntax Highlighting](https://expressive-code.com/key-features/syntax-highlighting/)

#### Regular syntax highlighting

```js
console.log('This code is syntax highlighted!')
```

#### Rendering ANSI escape sequences

```ansi
ANSI colors:
- Regular: [31mRed[0m [32mGreen[0m [33mYellow[0m [34mBlue[0m [35mMagenta[0m [36mCyan[0m
- Bold:    [1;31mRed[0m [1;32mGreen[0m [1;33mYellow[0m [1;34mBlue[0m [1;35mMagenta[0m [1;36mCyan[0m
- Dimmed:  [2;31mRed[0m [2;32mGreen[0m [2;33mYellow[0m [2;34mBlue[0m [2;35mMagenta[0m [2;36mCyan[0m

256 colors (showing colors 160-177):
[38;5;160m160 [38;5;161m161 [38;5;162m162 [38;5;163m163 [38;5;164m164 [38;5;165m165[0m
[38;5;166m166 [38;5;167m167 [38;5;168m168 [38;5;169m169 [38;5;170m170 [38;5;171m171[0m
[38;5;172m172 [38;5;173m173 [38;5;174m174 [38;5;175m175 [38;5;176m176 [38;5;177m177[0m

Full RGB colors:
[38;2;34;139;34mForestGreen - RGB(34, 139, 34)[0m

Text formatting: [1mBold[0m [2mDimmed[0m [3mItalic[0m [4mUnderline[0m
```

### Editor & Terminal Frames

[Editor & Terminal Frames](https://expressive-code.com/key-features/frames/)

#### Code editor frames

```js title="my-test-file.js"
console.log('Title attribute example')
```

---

```html
<!-- src/content/index.html -->
<div>File name comment example</div>
```

#### Terminal frames

```bash
echo "This terminal frame has no title"
```

---

```powershell title="PowerShell terminal example"
Write-Output "This one has a title!"
```

#### Overriding frame types

```sh frame="none"
echo "Look ma, no frame!"
```

---

```ps frame="code" title="PowerShell Profile.ps1"
# Without overriding, this would be a terminal frame
function Watch-Tail { Get-Content -Tail 20 -Wait $args }
New-Alias tail Watch-Tail
```

### Text & Line Markers

[Text & Line Markers](https://expressive-code.com/key-features/text-markers/)

#### Marking full lines & line ranges

```js {1, 4, 7-8}
// Line 1 - targeted by line number
// Line 2
// Line 3
// Line 4 - targeted by line number
// Line 5
// Line 6
// Line 7 - targeted by range "7-8"
// Line 8 - targeted by range "7-8"
```

#### Selecting line marker types (mark, ins, del)

```js title="line-markers.js" del={2} ins={3-4} {6}
function demo() {
  console.log('this line is marked as deleted')
  // This line and the next one are marked as inserted
  console.log('this is the second inserted line')

  return 'this line uses the neutral default marker type'
}
```

#### Adding labels to line markers

```jsx {"1":5} del={"2":7-8} ins={"3":10-12}
// labeled-line-markers.jsx
<button
  role="button"
  {...props}
  value={value}
  className={buttonClassName}
  disabled={disabled}
  active={active}
>
  {children &&
    !active &&
    (typeof children === 'string' ? <span>{children}</span> : children)}
</button>
```

#### Adding long labels on their own lines

```jsx {"1. Provide the value prop here:":5-6} del={"2. Remove the disabled and active states:":8-10} ins={"3. Add this to render the children inside the button:":12-15}
// labeled-line-markers.jsx
<button
  role="button"
  {...props}

  value={value}
  className={buttonClassName}

  disabled={disabled}
  active={active}
>

  {children &&
    !active &&
    (typeof children === 'string' ? <span>{children}</span> : children)}
</button>
```

#### Using diff-like syntax

```diff
+this line will be marked as inserted
-this line will be marked as deleted
this is a regular line
```

---

```diff
--- a/README.md
+++ b/README.md
@@ -1,3 +1,4 @@
+this is an actual diff file
-all contents will remain unmodified
 no whitespace will be removed either
```

#### Combining syntax highlighting with diff-like syntax

```diff lang="js"
  function thisIsJavaScript() {
    // This entire block gets highlighted as JavaScript,
    // and we can still add diff markers to it!
-   console.log('Old code to be removed')
+   console.log('New and shiny code!')
  }
```

#### Marking individual text inside lines

```js "given text"
function demo() {
  // Mark any given text inside lines
  return 'Multiple matches of the given text are supported';
}
```

#### Regular expressions

```ts /ye[sp]/
console.log('The words yes and yep will be marked.')
```

#### Escaping forward slashes

```sh /\/ho.*\//
echo "Test" > /home/test.txt
```

#### Selecting inline marker types (mark, ins, del)

```js "return true;" ins="inserted" del="deleted"
function demo() {
  console.log('These are inserted and deleted marker types');
  // The return statement uses the default marker type
  return true;
}
```

### Word Wrap

[Word Wrap](https://expressive-code.com/key-features/word-wrap/)

#### Configuring word wrap per block

```js wrap
// Example with wrap
function getLongString() {
  return 'This is a very long string that will most probably not fit into the available space unless the container is extremely wide'
}
```

---

```js wrap=false
// Example with wrap=false
function getLongString() {
  return 'This is a very long string that will most probably not fit into the available space unless the container is extremely wide'
}
```

#### Configuring indentation of wrapped lines

```js wrap preserveIndent
// Example with preserveIndent (enabled by default)
function getLongString() {
  return 'This is a very long string that will most probably not fit into the available space unless the container is extremely wide'
}
```

---

```js wrap preserveIndent=false
// Example with preserveIndent=false
function getLongString() {
  return 'This is a very long string that will most probably not fit into the available space unless the container is extremely wide'
}
```

## Collapsible Sections

[Collapsible Sections](https://expressive-code.com/plugins/collapsible-sections/)

```js collapse={1-5, 12-14, 21-24}
// All this boilerplate setup code will be collapsed
import { someBoilerplateEngine } from '@example/some-boilerplate'
import { evenMoreBoilerplate } from '@example/even-more-boilerplate'

const engine = someBoilerplateEngine(evenMoreBoilerplate())

// This part of the code will be visible by default
engine.doSomething(1, 2, 3, calcFn)

function calcFn() {
  // You can have multiple collapsed sections
  const a = 1
  const b = 2
  const c = a + b

  // This will remain visible
  console.log(`Calculation result: ${a} + ${b} = ${c}`)
  return c
}

// All this code until the end of the block will be collapsed again
engine.closeConnection()
engine.freeMemory()
engine.shutdown({ reason: 'End of example boilerplate code' })
```

## Line Numbers

[Line Numbers](https://expressive-code.com/plugins/line-numbers/)

### Displaying line numbers per block

```js showLineNumbers
// This code block will show line numbers
console.log('Greetings from line 2!')
console.log('I am on line 3')
```

---

```js showLineNumbers=false
// Line numbers are disabled for this block
console.log('Hello?')
console.log('Sorry, do you know what line I am on?')
```

### Changing the starting line number

```js showLineNumbers startLineNumber=5
console.log('Greetings from line 5!')
console.log('I am on line 6')
```
